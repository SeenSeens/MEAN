<link rel="stylesheet" href="/assets/css/core-style.css">
<link rel="stylesheet" href="/assets/css/style.css">
<!-- Search Wrapper Area Start -->
<app-search />
<!-- Search Wrapper Area End -->
<!-- ##### Main Content Wrapper Start ##### -->
<div class="main-content-wrapper d-flex clearfix ">
  <!-- Header Area Start -->
  <app-header />
  <!-- Header Area End -->
  <div class="col-8 mt-5">
    <table class="table" *ngIf="cartItems.length > 0; else emptyCart">
      <thead>
        <tr>
          <th>Hình</th>
          <th>Tên</th>
          <th>Giá</th>
          <th>Số lượng</th>
          <th>Thành tiền</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems">
          <td><img [src]="item.thumbnailUrl" alt="Product" style="width: 100px;"></td>
          <td>{{ item.name }}</td>
          <td>{{ item.price | vnd }}</td>
          <td>
            {{ item.quantity }}
            <input type="number" class="form-control" style="width: 70px;" [value]="item.quantity" (input)="updateQuantity($event, item)">
          </td>
          <td>{{ calculateSubtotal(item) | vnd }}</td>
          <td>
            <button class="btn btn-sm btn-danger " (click)="removeFromCart(item._id)">Remove</button>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3" class="text-center">Tổng tiền</td>
          <td>{{ totalQuantity }}</td>
          <td>{{ total | vnd }}</td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="clearCart()">Remove All</button>
          </td>
        </tr>
      </tfoot>
    </table>
    <ng-template #emptyCart>
      <p>Giỏ hàng của bạn đang trống.</p>
    </ng-template>
  </div>
</div>
<!-- ##### Main Content Wrapper End ##### -->
<!-- ##### Newsletter Area Start ##### -->
<app-newsletter-form />
<!-- ##### Newsletter Area End ##### -->
<!-- ##### Footer Area Start ##### -->
<app-footer />
<!-- ##### Footer Area End ##### -->
<script src="/assets/js/jquery/jquery-2.2.4.min.js"></script>
<!-- Popper js -->
<script src="/assets/js/popper.min.js"></script>
<!-- Bootstrap js -->
<script src="/assets/js/bootstrap.min.js"></script>

